/* (c) 2013 Andrea Buran [www.andreaburan.com] All rights reserved */

/*
** Sundries
*/

@each $hour, $deg in $background-colors {
	#h#{$hour} {
    color: rgba(darken(adjust-hue($background-color, $deg+180), 72%), 0.88);
		::-moz-selection {
			background-color: darken(adjust-hue($background-color, $deg), 1%);
		}
		::selection {
			background-color: darken(adjust-hue($background-color, $deg), 1%);
		}
		.container,
		.container:after,
		.container:before {
			background-color: adjust-hue($background-color, $deg);
		}
    blockquote {
      border-left-color: rgba(darken(adjust-hue($background-color, $deg+180), 72%), 0.88);
    }
    hr {
      border-top-color: rgba(darken(adjust-hue($background-color, $deg+180), 72%), 0.88);
    }
    .header-canvas,
    .footer-canvas {
      background-color: rgba(darken(adjust-hue($background-color, $deg+180), 72%), 0.88);
      color: adjust-hue($background-color, $deg);
    }
	}
}

@mixin clip-head($col-number) {
	$points: ();

	@for $i from 0 through $col-number {
		$dump: ();

		@if $i % 2 == 0 {
			$dump: 100/$col-number*$i*1% 0%,
		} @else {
			$dump: 100/$col-number*$i*1% 100%,
		}

		$points: join($points, $dump, comma);
	}

	-webkit-clip-path: polygon(0 100%, $points, 100% 100%);
	clip-path: polygon(0 100%, $points, 100% 100%);
}

@mixin clip-feet($col-number) {
	$points: ();

	@for $i from 0 through $col-number {
		$dump: ();

		@if $i % 2 == 0 {
			$dump: 100/$col-number*$i*1% 100%,
		} @else {
			$dump: 100/$col-number*$i*1% 0%,
		}

		$points: join($points, $dump, comma);
	}

	-webkit-clip-path: polygon(0% 0%, $points, 100% 0%);
	clip-path: polygon(0% 0%, $points, 100% 0%);
}

.container {
	position: relative;

	min-height: 100%;
	margin-top: rhythm($m-small-line/2);
	margin-bottom: rhythm($m-small-line/2);
	padding-bottom: rhythm($m-small-line*2);

	&:before, &:after {
		position: absolute;
		left: 0;

		display: block;

		width: 100%;

		content: "";
	}
	&:before {
		top: rhythm(-$m-small-line/2);

		height: rhythm($m-small-line/2);

		@include clip-head(48);
	}
	&:after {
		bottom: rhythm(-$m-small-line/2);

		height: rhythm($m-small-line/2);

		@include clip-feet(48);
	}
	@include min-screen(col(9)) {
		padding-bottom: rhythm($d-small-line*2);
		&:before {
			top: rhythm(-$d-small-line/2);

			height: rhythm($d-small-line/2);
		}
		&:after {
			bottom: rhythm(-$d-small-line/2);

			height: rhythm($d-small-line/2);
		}
	}
}
